<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/cfctl" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">cfctl | ClusterFactory</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.clusterfactory.io/docs/reference/cfctl"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="cfctl | ClusterFactory"><meta data-rh="true" name="description" content="cfctl is still in development. cfctl will simplify the setup and deployment of core applications."><meta data-rh="true" property="og:description" content="cfctl is still in development. cfctl will simplify the setup and deployment of core applications."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.clusterfactory.io/docs/reference/cfctl"><link data-rh="true" rel="alternate" href="https://docs.clusterfactory.io/docs/reference/cfctl" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.clusterfactory.io/docs/reference/cfctl" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://LV046ZHO1F-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"cfctl","item":"https://docs.clusterfactory.io/docs/reference/cfctl"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ML4FLDLN4Z"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ML4FLDLN4Z",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="ClusterFactory" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.ce60f4af.css">
<script src="/assets/js/runtime~main.654957d5.js" defer="defer"></script>
<script src="/assets/js/main.a5a9d313.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/deepsquare-logo-h.svg"><link rel="preload" as="image" href="/img/deepsquare-logo-h-neg.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_E82E" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="ClusterFactory Logo" class="themedComponent_zk3U themedComponent--light_PrIA"><img src="/img/logo.svg" alt="ClusterFactory Logo" class="themedComponent_zk3U themedComponent--dark_CEEJ"></div><b class="navbar__title text--truncate">ClusterFactory Docs</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/deepsquare-io/ClusterFactory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_cfqO"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_KdIk colorModeToggle_kda1"><button class="clean-btn toggleButton_pr5t toggleButtonDisabled_BPG7" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Kvwt lightToggleIcon_jks3"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Kvwt darkToggleIcon_UtEj"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Kvwt systemToggleIcon_avn2"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_wrWK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_PIVr"><div class="docsWrapper_UfL3"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_gdFL" type="button"></button><div class="docRoot_YAHj"><aside class="theme-doc-sidebar-container docSidebarContainer_bwx0"><div class="sidebarViewport_fEgN"><div class="sidebar_f943"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jfVs"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/overview/welcome">Overview</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/welcome">Welcome to the ClusterFactory Documentation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/getting-started/overview">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/requirements-recommendations">1. Requirements and recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/setting-up-repository">2. Setting up your repository for GitOps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/k0s-configuration">3. K0s Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/core-apps-deployment">4. Core Apps Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/adding-repository-argocd">5. Adding the Git repository to ArgoCD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/grendel-deployment">6. Grendel Deployment</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/main-concepts/k0s">Main Concepts</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/k0s">K0s, the Kubernetes distribution for bare-metal</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/main-concepts/core-network/metallb">Core Network</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/core-network/metallb">MetalLB, the bare-metal Load Balancer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/core-network/traefik">Traefik, the All-in-One L7 Load Balancer and Ingress</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/core-network/multus-cni">Multus CNI, the Swiss army knife of networking</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/main-concepts/gitops/argocd">GitOps</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/gitops/argocd">Argo CD, GitOps for Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/gitops/cert-manager">cert-manager, the Certificate Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/gitops/sealed-secrets">Sealed Secrets, the Secret Manager for Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/gitops/stateless-os">dmsquash-live and SystemD, GitOps for compute nodes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/main-concepts/apps/grendel">Main Applications</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/apps/grendel">Grendel, the Bare-Metal Provisioner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/apps/slurm">SLURM, A Highly Scalable Workload Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/main-concepts/apps/cvmfs">CernVM-FS, A Scalable, Distributed Read-Only File-System</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/guides/exposing-k8s-workloads">Guides</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/exposing-k8s-workloads">Exposing your Kubernetes Workload</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/guides/maintenance/high-availability">Maintenance</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/maintenance/high-availability">Creating a highly available cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/maintenance/updating-k0s-cluster">Updating the K0s cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/maintenance/backup-restore">Backup and restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/maintenance/removing-controller">Ejecting a controller</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/guides/monitoring/deploy">Monitoring</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/deploy">Deploy the Kube Prometheus Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/service-monitor">Using ServiceMonitor to fetch metrics</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/guides/provisioning/packer-build">Provisioning</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/provisioning/packer-build">Build an OS Image with Packer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/provisioning/gitops-with-grendel">GitOps with Grendel</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/guides/slurm/deploy-slurm">SLURM Stack</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/slurm/deploy-slurm">Deploying SLURM Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/slurm/deploy-ondemand">Deploy Open OnDemand</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/guides/cvmfs/mount-cvmfs">CVMFS Stack</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/cvmfs/mount-cvmfs">Mount CVMFS repositories on Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/cvmfs/deploy-cvmfs">Deploy a CVMFS Stratum 1</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/guides/kubevirt/deploy-vm">VM Workloads</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/kubevirt/deploy-vm">Deploy a VM with KubeVirt</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/guides/storage/overview">Deploying Storage Plane</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/storage/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/storage/storage-architecture">Storage Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/storage/deploying-rook">Deploying the Rook Operator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/storage/deploying-rook-cluster">Deploying a Rook Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/storage/claiming-volume">Claiming a volume</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/deploy-ldap">Deploy a LDAP server</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/reference/cfctl">Reference</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/cfctl">cfctl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/cfctl.yaml">cfctl.yaml</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/see-also/contributing">See Also</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/see-also/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/see-also/faq">Frequently Asked Questions</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_yS6y"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_jNGO"><div class="docItemContainer_CXbH"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z2bq" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_IR91"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">cfctl</span></li></ul></nav><div class="tocCollapsible_5PFb theme-doc-toc-mobile tocMobile_sWjg"><button type="button" class="clean-btn tocCollapsibleButton_OTeN">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>cfctl</h1></header>
<div class="theme-admonition theme-admonition-info admonition_hbRv alert alert--info"><div class="admonitionHeading_ZD1I"><span class="admonitionIcon_XQHR"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_cq6N"><p><code>cfctl</code> is still in development. <code>cfctl</code> will simplify the setup and deployment of core applications.</p></div></div>
<p>The command line bootstrap and management tool <code>cfctl</code> is a fork of <a href="https://github.com/k0sproject/k0sctl" target="_blank" rel="noopener noreferrer"><code>k0sctl</code></a>. The main differences between <code>cfctl</code> and <code>k0sctl</code> are additions for easy deployment of ClusterFactory.</p>
<p><code>cfctl</code> will also be our tool to help bootstrap ClusterFactory.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">global options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token builtin class-name">command</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>GLOBAL OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   --debug, </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain">  Enable debug logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DEBUG</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--trace</span><span class="token plain">      Enable trace logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$TRACE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-redact  Do not hide sensitive information </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the output </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --help, </span><span class="token parameter variable" style="color:#36acaa">-h</span><span class="token plain">   show </span><span class="token builtin class-name">help</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="apply">apply<a href="#apply" class="hash-link" aria-label="Direct link to apply" title="Direct link to apply">​</a></h2>
<p>Apply a cfctl configuration.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl apply </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> value  Path to cluster config yaml. Use </span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token plain"> to </span><span class="token builtin class-name">read</span><span class="token plain"> from stdin. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;cfctl.yaml&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-wait                 Do not </span><span class="token function" style="color:#d73a49">wait</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> worker nodes to </span><span class="token function" style="color:#d73a49">join</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-drain                Do not drain worker nodes when upgrading </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --restore-from value      Path to cluster backup archive to restore the state from</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --debug, </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain">               Enable debug logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DEBUG</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--trace</span><span class="token plain">                   Enable trace logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$TRACE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-redact               Do not hide sensitive information </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the output </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-telemetry       Do not send anonymous telemetry </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_TELEMETRY</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-upgrade-check   Do not check </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a cfctl upgrade </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_UPGRADE_CHECK</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>EXAMPLES</strong></p>
<p>The main function of <code>cfctl</code> is the <code>cfctl apply</code> subcommand. <code>cfctl</code> will connect via SSH to the hosts listed in the <code>cfctl.yaml</code> configuration file. <code>cfctl</code> will determine the current state of the hosts and configure them according to the configuration file.</p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl apply </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> path/to/cfctl.yaml</span><br></span></code></pre></div></div>
<p>If the cluster version of the <code>spec.k0s.version</code> configuration is higher than the version detected on the cluster, a cluster upgrade will be performed.
If the configuration lists hosts that are not part of the cluster, they will be configured to run k0s and will be joined to the cluster.</p>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="init">init<a href="#init" class="hash-link" aria-label="Direct link to init" title="Direct link to init">​</a></h2>
<p>Create a configuration template.</p>
<p>Outputs a new cfctl configuration. When a list of addresses are provided, hosts are generated into the configuration. The list of addresses can also be provided via stdin.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl init </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">user@</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">address</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">:port</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--k0s</span><span class="token plain">                               Include a skeleton k0s config section </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --cluster-name value, </span><span class="token parameter variable" style="color:#36acaa">-n</span><span class="token plain"> value      Cluster name </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;k0s-cluster&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --controller-count value, </span><span class="token parameter variable" style="color:#36acaa">-C</span><span class="token plain"> value  The number of controllers to create when addresses are given </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--user</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-u</span><span class="token plain"> value              Host user when addresses given</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --key-path value, </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> value          Host key path when addresses given</span><br></span></code></pre></div></div>
<p><strong>EXAMPLES</strong></p>
<p>Use <code>--k0s</code> to include an example <code>spec.k0s.config</code> k0s configuration block. You can also supply a list of host addresses via arguments or stdin.</p>
<p>Output a minimal configuration template:</p>
<div class="language-sh codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-sh codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl init </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> cfctl.yaml</span><br></span></code></pre></div></div>
<p>Output an example configuration with a default k0s config:</p>
<div class="language-sh codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-sh codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl init </span><span class="token parameter variable" style="color:#36acaa">--k0s</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> cfctl.yaml</span><br></span></code></pre></div></div>
<p>Create a configuration from a list of host addresses and pipe it to <code>cfctl apply</code>:</p>
<div class="language-sh codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-sh codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl init </span><span class="token number" style="color:#36acaa">10.0</span><span class="token plain">.0.1 </span><span class="token number" style="color:#36acaa">10.0</span><span class="token plain">.0.2 ubuntu@10.0.0.3:8022 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> cfctl apply </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> -</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="backup">backup<a href="#backup" class="hash-link" aria-label="Direct link to backup" title="Direct link to backup">​</a></h2>
<p>Take backup of existing clusters state.</p>
<p><strong>KNOWN LIMITATIONS</strong></p>
<p>When restoring, the control plane address (<code>externalAddress</code>) needs to remain the same between backup and restore. This is caused by the fact that all worker node components connect to this address and cannot currently be re-configured.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl backup </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> value  Path to cluster config yaml. Use </span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token plain"> to </span><span class="token builtin class-name">read</span><span class="token plain"> from stdin. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;cfctl.yaml&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --debug, </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain">               Enable debug logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DEBUG</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--trace</span><span class="token plain">                   Enable trace logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$TRACE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-redact               Do not hide sensitive information </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the output </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-telemetry       Do not send anonymous telemetry </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_TELEMETRY</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-upgrade-check   Do not check </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a cfctl upgrade </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_UPGRADE_CHECK</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>EXAMPLES</strong></p>
<div class="language-sh codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-sh codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl backup</span><br></span></code></pre></div></div>
<p>The files are currently named with a running (unix epoch) timestamp, e.g. <code>k0s_backup_1623220591.tar.gz</code>.</p>
<p>Restoring a backup can be done as part of the <a href="#apply">cfctl apply</a> command using <code>--restore-from k0s_backup_1623220591.tar.gz</code> flag.</p>
<p>Restoring the cluster state is a full restoration of the cluster control plane state, including:</p>
<ul>
<li>Etcd datastore content</li>
<li>Certificates</li>
<li>Keys</li>
</ul>
<p>In general restore is intended to be used as a disaster recovery mechanism and thus it expects that no k0s components actually exist on the controllers.</p>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="reset">reset<a href="#reset" class="hash-link" aria-label="Direct link to reset" title="Direct link to reset">​</a></h2>
<p>Remove traces of k0s from all of the hosts.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl reset </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> value  Path to cluster config yaml. Use </span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token plain"> to </span><span class="token builtin class-name">read</span><span class="token plain"> from stdin. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;cfctl.yaml&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --debug, </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain">               Enable debug logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DEBUG</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--trace</span><span class="token plain">                   Enable trace logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$TRACE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-redact               Do not hide sensitive information </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the output </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-telemetry       Do not send anonymous telemetry </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_TELEMETRY</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-upgrade-check   Do not check </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a cfctl upgrade </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_UPGRADE_CHECK</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --force, </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain">               Don&#x27;t ask </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> confirmation </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="kubeconfig">kubeconfig<a href="#kubeconfig" class="hash-link" aria-label="Direct link to kubeconfig" title="Direct link to kubeconfig">​</a></h2>
<p>Output the admin kubeconfig of the cluster.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl kubeconfig </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--address</span><span class="token plain"> value           Set kubernetes API address </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: auto-detect</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> value  Path to cluster config yaml. Use </span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token plain"> to </span><span class="token builtin class-name">read</span><span class="token plain"> from stdin. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;cfctl.yaml&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --debug, </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain">               Enable debug logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DEBUG</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--trace</span><span class="token plain">                   Enable trace logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$TRACE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-redact               Do not hide sensitive information </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the output </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-telemetry       Do not send anonymous telemetry </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_TELEMETRY</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>EXAMPLES</strong></p>
<p>Connects to the cluster and outputs a kubeconfig file that can be used with <code>kubectl</code> or <code>kubeadm</code> to manage the kubernetes cluster.</p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">$ cfctl kubeconfig </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> path/to/cfctl.yaml </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> k0s.config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--kubeconfig</span><span class="token plain"> k0s.config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME      STATUS     ROLES    AGE   VERSION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">worker0   NotReady   </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">none</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">   10s   v1.20.2-k0s1</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="version">version<a href="#version" class="hash-link" aria-label="Direct link to version" title="Direct link to version">​</a></h2>
<p>Output cfctl version.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl version </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--k0s</span><span class="token plain">  Retrieve the latest k0s version number </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--pre</span><span class="token plain">  When used </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> conjunction with --k0s, a pre release is accepted as the latest version </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="config">config<a href="#config" class="hash-link" aria-label="Direct link to config" title="Direct link to config">​</a></h2>
<p>Configuration related sub-commands.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl config </span><span class="token builtin class-name">command</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_riy5" id="edit">edit<a href="#edit" class="hash-link" aria-label="Direct link to edit" title="Direct link to edit">​</a></h3>
<p>Edit k0s dynamic config in SHELL&#x27;s default editor.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl config edit </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> value  Path to cluster config yaml. Use </span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token plain"> to </span><span class="token builtin class-name">read</span><span class="token plain"> from stdin. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;cfctl.yaml&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --debug, </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain">               Enable debug logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DEBUG</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--trace</span><span class="token plain">                   Enable trace logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$TRACE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-redact               Do not hide sensitive information </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the output </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-telemetry       Do not send anonymous telemetry </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_TELEMETRY</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-upgrade-check   Do not check </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a cfctl upgrade </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_UPGRADE_CHECK</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_riy5" id="status">status<a href="#status" class="hash-link" aria-label="Direct link to status" title="Direct link to status">​</a></h3>
<p>Show k0s dynamic config reconciliation events.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl config status </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--config</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> value  Path to cluster config yaml. Use </span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token plain"> to </span><span class="token builtin class-name">read</span><span class="token plain"> from stdin. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;cfctl.yaml&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --debug, </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain">               Enable debug logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DEBUG</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--trace</span><span class="token plain">                   Enable trace logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$TRACE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --no-redact               Do not hide sensitive information </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the output </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-telemetry       Do not send anonymous telemetry </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_TELEMETRY</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --disable-upgrade-check   Do not check </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a cfctl upgrade </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$DISABLE_UPGRADE_CHECK</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--output</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-o</span><span class="token plain"> value  kubectl output formatting</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="kubeseal">kubeseal<a href="#kubeseal" class="hash-link" aria-label="Direct link to kubeseal" title="Direct link to kubeseal">​</a></h2>
<p>Kubeseal every &#x27;-secret.yaml.local&#x27; files recursively.</p>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl kubeseal </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   --controller-namespace value  The namespace where the sealed secrets controller resides. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;sealed-secrets&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token variable" style="color:#36acaa">$SEALED_SECRETS_CONTROLLER_NAMESPACE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   --controller-name value       The name of the sealed secrets controller. </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;sealed-secrets&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="completion">completion<a href="#completion" class="hash-link" aria-label="Direct link to completion" title="Direct link to completion">​</a></h2>
<p>Generates a shell auto-completion script.</p>
<p>Typical locations for the generated output are:</p>
<ul>
<li>Bash: /etc/bash_completion.d/cfctl</li>
<li>Zsh: /usr/local/share/zsh/site-functions/_cfctl</li>
<li>Fish: ~/.config/fish/completions/cfctl.fish</li>
</ul>
<p><strong>USAGE</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl completion </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command options</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p><strong>OPTIONS</strong></p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">--shell</span><span class="token plain"> value, </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> value  Shell to generate the script </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default: </span><span class="token string" style="color:#e3116c">&quot;bash&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token environment constant" style="color:#36acaa">$SHELL</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_riy5" id="help">help<a href="#help" class="hash-link" aria-label="Direct link to help" title="Direct link to help">​</a></h2>
<p>Shows a list of commands or help for one command.</p>
<div class="language-shell codeBlockContainer_abgS theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_P3sU"><pre tabindex="0" class="prism-code language-shell codeBlock_krE9 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_CdpW"><span class="token-line" style="color:#393A34"><span class="token plain">cfctl </span><span class="token builtin class-name">help</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/deepsquare-io/ClusterFactory/tree/main/web/docs/reference/cfctl.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_h8xw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_MBaf"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guides/deploy-ldap"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploy a LDAP server</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/cfctl.yaml"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">cfctl.yaml</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_AWmT thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#apply" class="table-of-contents__link toc-highlight">apply</a></li><li><a href="#init" class="table-of-contents__link toc-highlight">init</a></li><li><a href="#backup" class="table-of-contents__link toc-highlight">backup</a></li><li><a href="#reset" class="table-of-contents__link toc-highlight">reset</a></li><li><a href="#kubeconfig" class="table-of-contents__link toc-highlight">kubeconfig</a></li><li><a href="#version" class="table-of-contents__link toc-highlight">version</a></li><li><a href="#config" class="table-of-contents__link toc-highlight">config</a><ul><li><a href="#edit" class="table-of-contents__link toc-highlight">edit</a></li><li><a href="#status" class="table-of-contents__link toc-highlight">status</a></li></ul></li><li><a href="#kubeseal" class="table-of-contents__link toc-highlight">kubeseal</a></li><li><a href="#completion" class="table-of-contents__link toc-highlight">completion</a></li><li><a href="#help" class="table-of-contents__link toc-highlight">help</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://deepsquare.io" rel="noopener noreferrer" class="footerLogoLink_kA0J"><img src="/img/deepsquare-logo-h.svg" alt="Empowers DeepSquare" class="footer__logo themedComponent_zk3U themedComponent--light_PrIA"><img src="/img/deepsquare-logo-h-neg.svg" alt="Empowers DeepSquare" class="footer__logo themedComponent_zk3U themedComponent--dark_CEEJ"></a></div><div class="footer__copyright"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> © 2025 ClusterFactory Docs, <a href="https://squarefactory.io">SquareFactory</a>. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>